<div class=dashboard-page ng-controller="init">
  <div class=container-fluid>
    <div class=row>
      <div class="col-sm-3 col-md-2 sidebar">
        <div class=text-center>
          <h2 class=brand>Love of Tales</h2>
          
	  <!-- <img src=images/tales.png class=user-avatar><br> -->
	  <div class="cardpreviewdiv" ng-controller="previewCtrl as preview">
	    <div style="margin:5px;">
	      <section class="tab">
		<ul class="nav nav-pills">
		  <li>
		    <a href ng-click="preview.setTab('img')" ng-class="{activetab: preview.isSet('img')}">Image</a></li>
		  <li>
		    <a href ng-click="preview.setTab('tex'); preview.image.loaded=false" ng-class="{activetab: preview.isSet('tex')}">Text</a></li>
		  <li>
		</ul>
	      </section>
	      
	      
	      <div ng-hide="preview.name()==' ()'">
		{{preview.name()}}<br/>
		
		<img ng-if="preview.image.url&&preview.isSet('img')" ng-src="{{preview.getImg()}}" class="cardpreview" alt="{{preview.alt()}}" title="{{preview.alt()}}" imageonload ng-show="preview.image.loaded" />
		<div ng-hide="preview.image.url&&preview.isSet('img')&&preview.image.loaded">
		  <table ng-hide="preview.image.url&&preview.isSet('img')&&preview.image.loaded">
		    <tr>
		      <td colspan=2><h2>({{preview.image.cost}})</h2></td>
		    </tr>
		    <tr ng-show="preview.image.willpower!=null">
		      <td>{{preview.image.willpower}}</td>
		      <td><img src="img/willpower.gif"/></td>
		    </tr>
		    <tr ng-show="preview.image.willpower!=null">
		      <td>{{preview.image.strength}}</td>
		      <td><img src="img/strength.gif"/></td>
		    </tr>
		    <tr ng-show="preview.image.willpower!=null">
		      <td>{{preview.image.defense}}</td>
		      <td><img src="img/defense.gif"/></td>
		    </tr>
		    <tr ng-show="preview.image.willpower!=null">
		      <td>{{preview.image.hitpoints}}</td>
		      <td><img src="img/hitpoints.png" height=20px/></td>
		    </tr>
		    <tr>
		      <td colspan=2><img ng-src="{{preview.image.sphere}}" /></td>
		      <td> {{preview.image.type}} </td>
		    </tr>
		  </table>
		  <div ng-hide="preview.image.url&&preview.isSet(img)&&preview.image.loaded"><h4 style="margin:0;"><img class="unique" src="img/unique.png" ng-show="preview.image.unique"/> {{preview.image.name}}</h4><b><i>{{preview.image.traits}}</i></b></div>
		  <p ng-hide="preview.image.url&&preview.isSet(img)&&preview.image.loaded" style="text-align:left;white-space: pre-wrap;line-height:1.5;" ng-bind-html="trust(preview.image.textc)"></p>
		</div>
	    </div></div>
	  </div>

          Welcome {{displayName}}
	  <br>
	  <a ng-click="logOut()" ng-show="authData" class="btn btn-white btn-outline btn-rounded btn-sm">Log Out</a>
	  <a ng-click="logIn()" ng-hide="authData" class="btn btn-white btn-outline btn-rounded btn-sm">Log In</a>
        </div>
        <ul class="nav nav-sidebar">
          <li ng-class="{active: $state.includes('builder')}">
            <a ui-sref=builder>Builder <span class=sr-only>(current)</span></a>
          </li>
          <li ng-class="{active: $state.includes('sets')}">
            <a ui-sref=sets>Sets <span class=sr-only>(current)</span></a>
	  </li>
	  <li ng-class="{active: $state.includes('reports')}">
	    <a ui-sref=reports>My Decks <span class=sr-only>(current)</span></a>
	  </li>                    
	  <li ng-class="{active: $state.includes('reports')}">
	    <a ui-sref=reports>Community <span class=sr-only>(current)</span></a>
	  </li>
	</ul>
      </div>
      <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main" ui-view>
      </div>
    </div>
  </div>
</div>
